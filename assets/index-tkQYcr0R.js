import{c as G,q as Z,r as oe,s as le,l as k,v as ue,w as _,x as X,y as fe,z as ce,A as Y}from"./chunk-3TAVD5Y3-zHkyGX_y.js";import{R as j,r as $}from"./index-4g5l5LRQ.js";import{c as pe}from"./chunk-XHQUSKIE-iVewxDcq.js";const B={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function ge(t={}){let{style:n,isFocusable:a}=t,[u,f]=$.useState(!1),{focusWithinProps:v}=pe({isDisabled:!a,onFocusWithinChange:U=>f(U)}),p=$.useMemo(()=>u?n:n?{...B,...n}:B,[u]);return{visuallyHiddenProps:{...v,style:p}}}function Me(t){let{children:n,elementType:a="div",isFocusable:u,style:f,...v}=t,{visuallyHiddenProps:p}=ge(t);return j.createElement(a,G(v,p),n)}var ee=j.createContext(null);ee.displayName="PressResponderContext";var de=Object.defineProperty,ve=(t,n,a)=>n in t?de(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,b=(t,n,a)=>(ve(t,typeof n!="symbol"?n+"":n,a),a),te=(t,n,a)=>{if(!n.has(t))throw TypeError("Cannot "+a)},Te=(t,n,a)=>(te(t,n,"read from private field"),a?a.call(t):n.get(t)),Pe=(t,n,a)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,a)},ye=(t,n,a,u)=>(te(t,n,"write to private field"),u?u.call(t,a):n.set(t,a),a),A,D=class{constructor(t,n,a){b(this,"type"),b(this,"pointerType"),b(this,"target"),b(this,"shiftKey"),b(this,"ctrlKey"),b(this,"metaKey"),b(this,"altKey"),Pe(this,A,!0),this.type=t,this.pointerType=n,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey}continuePropagation(){ye(this,A,!1)}get shouldStopPropagation(){return Te(this,A)}};A=new WeakMap;var S=t=>{var n;return(n=t==null?void 0:t.ownerDocument)!=null?n:document},R=t=>{var n,a;return(a=(n=t==null?void 0:t.ownerDocument)==null?void 0:n.defaultView)!=null?a:window},M="default",W="",F=new WeakMap;function z(t){if(Z()){if(M==="default"){const n=S(t);W=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}M="disabled"}else(t instanceof HTMLElement||t instanceof SVGElement)&&(F.set(t,t.style.userSelect),t.style.userSelect="none")}function I(t){if(Z()){if(M!=="disabled")return;M="restoring",setTimeout(()=>{oe(()=>{if(M==="restoring"){const n=S(t);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=W||""),W="",M="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&F.has(t)){let n=F.get(t);t.style.userSelect==="none"&&n&&(t.style.userSelect=n),t.getAttribute("style")===""&&t.removeAttribute("style"),F.delete(t)}}function he(t){let n=$.useContext(ee);if(n){let{register:a,...u}=n;t=G(u,t),a()}return fe(n,t.ref),t}var q=Symbol("linkClicked");function Oe(t){let{onPress:n,onPressChange:a,onPressStart:u,onPressEnd:f,onPressUp:v,isDisabled:p,isPressed:U,preventFocusOnPress:O,shouldCancelOnPointerExit:ne,allowTextSelectionOnPress:y,ref:$e,...se}=he(t),[ie,N]=$.useState(!1),h=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:m,removeAllGlobalListeners:K}=le(),T=k((e,o)=>{let d=h.current;if(p||d.didFirePressStart)return;let i=!0;if(d.isTriggeringEvent=!0,u){let l=new D("pressstart",o,e);u(l),i=l.shouldStopPropagation}return a&&a(!0),d.isTriggeringEvent=!1,d.didFirePressStart=!0,N(!0),i}),g=k((e,o,d=!0)=>{let i=h.current;if(!i.didFirePressStart)return;i.ignoreClickAfterPress=!0,i.didFirePressStart=!1,i.isTriggeringEvent=!0;let l=!0;if(f){let r=new D("pressend",o,e);f(r),l=r.shouldStopPropagation}if(a&&a(!1),N(!1),n&&d&&!p){let r=new D("press",o,e);n(r),l&&(l=r.shouldStopPropagation)}return i.isTriggeringEvent=!1,l}),w=k((e,o)=>{let d=h.current;if(!p){if(v){d.isTriggeringEvent=!0;let i=new D("pressup",o,e);return v(i),d.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}}),E=k(e=>{let o=h.current;o.isPressed&&(o.isOverTarget&&o.target&&g(P(o.target,e),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType=null,K(),!y&&o.target&&I(o.target))}),C=k(e=>{ne&&E(e)}),ae=$.useMemo(()=>{let e=h.current,o={onKeyDown(i){var l;if(L(i.nativeEvent,i.currentTarget)&&i.currentTarget.contains(i.target)){Q(i.target,i.key)&&i.preventDefault();let r=!0;!e.isPressed&&!i.repeat&&(e.target=i.currentTarget,e.isPressed=!0,r=T(i,"keyboard"),m(S(i.currentTarget),"keyup",d,!1)),r&&i.stopPropagation(),i.metaKey&&ce()&&((l=e.metaKeyEvents)==null||l.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(e.metaKeyEvents=new Map)},onKeyUp(i){e.target&&L(i.nativeEvent,i.currentTarget)&&!i.repeat&&i.currentTarget.contains(i.target)&&w(P(e.target,i),"keyboard")},onClick(i){if(!(i&&!i.currentTarget.contains(i.target))&&i&&i.button===0&&!e.isTriggeringEvent&&!Y.isOpening){let l=!0;if(p&&i.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||X(i.nativeEvent))){!p&&!O&&_(i.currentTarget);let r=T(i,"virtual"),s=w(i,"virtual"),c=g(i,"virtual");l=r&&s&&c}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,l&&i.stopPropagation()}}},d=i=>{var l,r;if(e.isPressed&&e.target&&L(i,e.target)){Q(i.target,i.key)&&i.preventDefault();let s=i.target,c=g(P(e.target,i),"keyboard",e.target.contains(s));K(),c&&i.stopPropagation(),i.key!=="Enter"&&V(e.target)&&e.target.contains(s)&&!i[q]&&(i[q]=!0,Y(e.target,i,!1)),e.isPressed=!1,(l=e.metaKeyEvents)==null||l.delete(i.key)}else if(i.key==="Meta"&&((r=e.metaKeyEvents)!=null&&r.size)){let s=e.metaKeyEvents;e.metaKeyEvents=null;for(let c of s.values())e.target&&e.target.dispatchEvent(new KeyboardEvent("keyup",c))}};if(typeof PointerEvent<"u"){o.onPointerDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(ue(s.nativeEvent)){e.pointerType="virtual";return}H(s.currentTarget)&&s.preventDefault(),e.pointerType=s.pointerType;let c=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=s.pointerId,e.target=s.currentTarget,!p&&!O&&_(s.currentTarget),y||z(e.target),c=T(s,e.pointerType),m(S(s.currentTarget),"pointermove",i,!1),m(S(s.currentTarget),"pointerup",l,!1),m(S(s.currentTarget),"pointercancel",r,!1)),c&&s.stopPropagation()},o.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(H(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},o.onPointerUp=s=>{!s.currentTarget.contains(s.target)||e.pointerType==="virtual"||s.button===0&&x(s,s.currentTarget)&&w(s,e.pointerType||s.pointerType)};let i=s=>{s.pointerId!==e.activePointerId||!e.target||(x(s,e.target)?e.isOverTarget||(e.isOverTarget=!0,T(P(e.target,s),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,g(P(e.target,s),e.pointerType,!1),C(s)))},l=s=>{s.pointerId===e.activePointerId&&e.isPressed&&s.button===0&&e.target&&((x(s,e.target)||e.isOverTarget)&&g(P(e.target,s),e.pointerType),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,K(),y||I(e.target))},r=s=>{E(s)};o.onDragStart=s=>{s.currentTarget.contains(s.target)&&E(s)}}else{o.onMouseDown=r=>{if(r.button!==0||!r.currentTarget.contains(r.target))return;if(H(r.currentTarget)&&r.preventDefault(),e.ignoreEmulatedMouseEvents){r.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=r.currentTarget,e.pointerType=X(r.nativeEvent)?"virtual":"mouse",!p&&!O&&_(r.currentTarget),T(r,e.pointerType)&&r.stopPropagation(),m(S(r.currentTarget),"mouseup",i,!1)},o.onMouseEnter=r=>{if(!r.currentTarget.contains(r.target))return;let s=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,s=T(r,e.pointerType)),s&&r.stopPropagation()},o.onMouseLeave=r=>{if(!r.currentTarget.contains(r.target))return;let s=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,s=g(r,e.pointerType,!1),C(r)),s&&r.stopPropagation()},o.onMouseUp=r=>{r.currentTarget.contains(r.target)&&!e.ignoreEmulatedMouseEvents&&r.button===0&&w(r,e.pointerType||"mouse")};let i=r=>{if(r.button===0){if(e.isPressed=!1,K(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&(x(r,e.target)?g(P(e.target,r),e.pointerType):e.isOverTarget&&g(P(e.target,r),e.pointerType,!1),e.isOverTarget=!1)}};o.onTouchStart=r=>{if(!r.currentTarget.contains(r.target))return;let s=me(r.nativeEvent);if(!s)return;e.activePointerId=s.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=r.currentTarget,e.pointerType="touch",!p&&!O&&_(r.currentTarget),y||z(e.target),T(r,e.pointerType)&&r.stopPropagation(),m(R(r.currentTarget),"scroll",l,!0)},o.onTouchMove=r=>{if(!r.currentTarget.contains(r.target))return;if(!e.isPressed){r.stopPropagation();return}let s=J(r.nativeEvent,e.activePointerId),c=!0;s&&x(s,r.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,c=T(r,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,c=g(r,e.pointerType,!1),C(r)),c&&r.stopPropagation()},o.onTouchEnd=r=>{if(!r.currentTarget.contains(r.target))return;if(!e.isPressed){r.stopPropagation();return}let s=J(r.nativeEvent,e.activePointerId),c=!0;s&&x(s,r.currentTarget)?(w(r,e.pointerType),c=g(r,e.pointerType)):e.isOverTarget&&(c=g(r,e.pointerType,!1)),c&&r.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,!y&&e.target&&I(e.target),K()},o.onTouchCancel=r=>{r.currentTarget.contains(r.target)&&(r.stopPropagation(),e.isPressed&&E(r))};let l=r=>{e.isPressed&&r.target.contains(e.target)&&E({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=r=>{r.currentTarget.contains(r.target)&&E(r)}}return o},[m,p,O,K,y,E,C,g,T,w]);return $.useEffect(()=>()=>{!y&&h.current.target&&I(h.current.target)},[y]),{isPressed:U||ie,pressProps:G(se,ae)}}function V(t){return t.tagName==="A"&&t.hasAttribute("href")}function L(t,n){const{key:a,code:u}=t,f=n,v=f.getAttribute("role");return(a==="Enter"||a===" "||a==="Spacebar"||u==="Space")&&!(f instanceof R(f).HTMLInputElement&&!re(f,a)||f instanceof R(f).HTMLTextAreaElement||f.isContentEditable)&&!((v==="link"||!v&&V(f))&&a!=="Enter")}function me(t){const{targetTouches:n}=t;return n.length>0?n[0]:null}function J(t,n){const a=t.changedTouches;for(let u=0;u<a.length;u++){const f=a[u];if(f.identifier===n)return f}return null}function P(t,n){return{currentTarget:t,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey}}function Ee(t){let n=t.width?t.width/2:t.radiusX||0,a=t.height?t.height/2:t.radiusY||0;return{top:t.clientY-a,right:t.clientX+n,bottom:t.clientY+a,left:t.clientX-n}}function be(t,n){return!(t.left>n.right||n.left>t.right||t.top>n.bottom||n.top>t.bottom)}function x(t,n){let a=n.getBoundingClientRect(),u=Ee(t);return be(a,u)}function H(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function Q(t,n){return t instanceof HTMLInputElement?!re(t,n):t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!V(t)}var Se=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function re(t,n){return t.type==="checkbox"||t.type==="radio"?n===" ":Se.has(t.type)}export{Me as $,ge as a,Oe as u};
