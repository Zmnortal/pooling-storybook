import{r as s,R as x}from"./index-4g5l5LRQ.js";import{n as L}from"./chunk-3TAVD5Y3-zHkyGX_y.js";class S{getStringForLocale(e,t){let a=this.strings[t];a||(a=F(t,this.strings,this.defaultLocale),this.strings[t]=a);let n=a[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}function F(r,e,t="en-US"){if(e[r])return e[r];let a=R(r);if(e[a])return e[a];for(let n in e)if(n.startsWith(a+"-"))return e[n];return e[t]}function R(r){return Intl.Locale?new Intl.Locale(r).language:r.split("-")[0]}const h=new Map,m=new Map;class D{format(e,t){let a=this.strings.getStringForLocale(e,this.locale);return typeof a=="function"?a(t,this):a}plural(e,t,a="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let i=this.locale+":"+a,o=h.get(i);o||(o=new Intl.PluralRules(this.locale,{type:a}),h.set(i,o));let l=o.select(e);return n=t[l]||t.other,typeof n=="function"?n():n}number(e){let t=m.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),m.set(this.locale,t)),t.format(e)}select(e,t){let a=e[t]||e.other;return typeof a=="function"?a():a}constructor(e,t){this.locale=e,this.strings=t}}let u=new Map,$=!1;try{$=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let f=!1;try{f=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const v={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class E{format(e){let t="";if(!$&&this.options.signDisplay!=null?t=C(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!f){var a;let{unit:n,unitDisplay:i="short",locale:o}=this.resolvedOptions(),l=(a=v[n])===null||a===void 0?void 0:a[i];t+=l[o]||l.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let a=this.numberFormatter.formatToParts(e),n=this.numberFormatter.formatToParts(t);return[...a.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...n.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!$&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!f&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=P(e,t),this.options=t}}function P(r,e={}){let{numberingSystem:t}=e;if(t&&r.indexOf("-u-nu-")===-1&&(r=`${r}-u-nu-${t}`),e.style==="unit"&&!f){var a;let{unit:o,unitDisplay:l="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((a=v[o])===null||a===void 0)&&a[l]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let n=r+(e?Object.entries(e).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(u.has(n))return u.get(n);let i=new Intl.NumberFormat(r,e);return u.set(n,i),i}function C(r,e,t){if(e==="auto")return r.format(t);if(e==="never")return r.format(Math.abs(t));{let a=!1;if(e==="always"?a=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):a=t>0),a){let n=r.format(-t),i=r.format(t),o=n.replace(i,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),n.replace(i,"!!!").replace(o,"+").replace("!!!",i)}else return r.format(t)}}const M=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),O=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function I(r){if(Intl.Locale){let t=new Intl.Locale(r).maximize().script;return t?M.has(t):!1}let e=r.split("-")[0];return O.has(e)}function w(){let r=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([r])}catch{r="en-US"}return{locale:r,direction:I(r)?"rtl":"ltr"}}let b=w(),c=new Set;function g(){b=w();for(let r of c)r(b)}function T(){let r=L(),[e,t]=s.useState(b);return s.useEffect(()=>(c.size===0&&window.addEventListener("languagechange",g),c.add(t),()=>{c.delete(t),c.size===0&&window.removeEventListener("languagechange",g)}),[]),r?{locale:"en-US",direction:"ltr"}:e}const j=x.createContext(null);function p(){let r=T();return s.useContext(j)||r}const y=new WeakMap;function k(r){let e=y.get(r);return e||(e=new S(r),y.set(r,e)),e}function N(r){let{locale:e}=p(),t=s.useMemo(()=>k(r),[r]);return s.useMemo(()=>new D(e,t),[e,t])}function U(r={}){let{locale:e}=p();return s.useMemo(()=>new E(e,r),[e,r])}let d=new Map;function W(r){let{locale:e}=p(),t=e+(r?Object.entries(r).sort((n,i)=>n[0]<i[0]?-1:1).join():"");if(d.has(t))return d.get(t);let a=new Intl.Collator(e,r);return d.set(t,a),a}export{U as $,p as a,W as b,N as c};
