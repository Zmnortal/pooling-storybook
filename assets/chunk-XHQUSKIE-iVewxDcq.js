import{R as _,r as $}from"./index-4g5l5LRQ.js";import{s as Ke,l as K,v as Ye,w as z,C as R,x as pe,g as ve,c as X,q as Re,r as Oe,y as _e,z as Ie,A as Pe,k as N,n as Xe,D as qe}from"./chunk-3TAVD5Y3-zHkyGX_y.js";function Je(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qe(e,t,r){Je(e,t),t.set(e,r)}function Ze(e,t){return t.get?t.get.call(e):t.value}function He(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function et(e,t){var r=He(e,t,"get");return Ze(e,r)}function tt(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function Se(e,t,r){var o=He(e,t,"set");return tt(e,o,r),r}let j="default",be="",re=new WeakMap;function we(e){if(Re()){if(j==="default"){const t=R(e);be=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}j="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(re.set(e,e.style.userSelect),e.style.userSelect="none")}function Q(e){if(Re()){if(j!=="disabled")return;j="restoring",setTimeout(()=>{Oe(()=>{if(j==="restoring"){const t=R(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=be||""),be="",j="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&re.has(e)){let t=re.get(e);e.style.userSelect==="none"&&t&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),re.delete(e)}}const he=_.createContext({register:()=>{}});he.displayName="PressResponderContext";function rt(e){let t=$.useContext(he);if(t){let{register:r,...o}=t;e=X(o,e),r()}return _e(t,e.ref),e}var Z=new WeakMap;class ee{continuePropagation(){Se(this,Z,!1)}get shouldStopPropagation(){return et(this,Z)}constructor(t,r,o){Qe(this,Z,{writable:!0,value:void 0}),Se(this,Z,!0),this.type=t,this.pointerType=r,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey}}const xe=Symbol("linkClicked");function nt(e){let{onPress:t,onPressChange:r,onPressStart:o,onPressEnd:i,onPressUp:a,isDisabled:c,isPressed:l,preventFocusOnPress:u,shouldCancelOnPointerExit:p,allowTextSelectionOnPress:b,ref:h,...g}=rt(e),[v,T]=$.useState(!1),x=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:I,removeAllGlobalListeners:U}=Ke(),M=K((n,m)=>{let F=x.current;if(c||F.didFirePressStart)return!1;let f=!0;if(F.isTriggeringEvent=!0,o){let y=new ee("pressstart",m,n);o(y),f=y.shouldStopPropagation}return r&&r(!0),F.isTriggeringEvent=!1,F.didFirePressStart=!0,T(!0),f}),L=K((n,m,F=!0)=>{let f=x.current;if(!f.didFirePressStart)return!1;f.ignoreClickAfterPress=!0,f.didFirePressStart=!1,f.isTriggeringEvent=!0;let y=!0;if(i){let s=new ee("pressend",m,n);i(s),y=s.shouldStopPropagation}if(r&&r(!1),T(!1),t&&F&&!c){let s=new ee("press",m,n);t(s),y&&(y=s.shouldStopPropagation)}return f.isTriggeringEvent=!1,y}),B=K((n,m)=>{let F=x.current;if(c)return!1;if(a){F.isTriggeringEvent=!0;let f=new ee("pressup",m,n);return a(f),F.isTriggeringEvent=!1,f.shouldStopPropagation}return!0}),H=K(n=>{let m=x.current;m.isPressed&&m.target&&(m.isOverTarget&&m.pointerType!=null&&L(k(m.target,n),m.pointerType,!1),m.isPressed=!1,m.isOverTarget=!1,m.activePointerId=null,m.pointerType=null,U(),b||Q(m.target))}),J=K(n=>{p&&H(n)}),je=$.useMemo(()=>{let n=x.current,m={onKeyDown(f){if(ce(f.nativeEvent,f.currentTarget)&&f.currentTarget.contains(f.target)){var y;Fe(f.target,f.key)&&f.preventDefault();let s=!0;!n.isPressed&&!f.repeat&&(n.target=f.currentTarget,n.isPressed=!0,s=M(f,"keyboard"),I(R(f.currentTarget),"keyup",F,!1)),s&&f.stopPropagation(),f.metaKey&&Ie()&&((y=n.metaKeyEvents)===null||y===void 0||y.set(f.key,f.nativeEvent))}else f.key==="Meta"&&(n.metaKeyEvents=new Map)},onKeyUp(f){ce(f.nativeEvent,f.currentTarget)&&!f.repeat&&f.currentTarget.contains(f.target)&&n.target&&B(k(n.target,f),"keyboard")},onClick(f){if(!(f&&!f.currentTarget.contains(f.target))&&f&&f.button===0&&!n.isTriggeringEvent&&!Pe.isOpening){let y=!0;if(c&&f.preventDefault(),!n.ignoreClickAfterPress&&!n.ignoreEmulatedMouseEvents&&!n.isPressed&&(n.pointerType==="virtual"||pe(f.nativeEvent))){!c&&!u&&z(f.currentTarget);let s=M(f,"virtual"),d=B(f,"virtual"),S=L(f,"virtual");y=s&&d&&S}n.ignoreEmulatedMouseEvents=!1,n.ignoreClickAfterPress=!1,y&&f.stopPropagation()}}},F=f=>{var y;if(n.isPressed&&n.target&&ce(f,n.target)){var s;Fe(f.target,f.key)&&f.preventDefault();let S=f.target,le=L(k(n.target,f),"keyboard",n.target.contains(S));U(),le&&f.stopPropagation(),f.key!=="Enter"&&Ee(n.target)&&n.target.contains(S)&&!f[xe]&&(f[xe]=!0,Pe(n.target,f,!1)),n.isPressed=!1,(s=n.metaKeyEvents)===null||s===void 0||s.delete(f.key)}else if(f.key==="Meta"&&(!((y=n.metaKeyEvents)===null||y===void 0)&&y.size)){var d;let S=n.metaKeyEvents;n.metaKeyEvents=void 0;for(let le of S.values())(d=n.target)===null||d===void 0||d.dispatchEvent(new KeyboardEvent("keyup",le))}};if(typeof PointerEvent<"u"){m.onPointerDown=d=>{if(d.button!==0||!d.currentTarget.contains(d.target))return;if(Ye(d.nativeEvent)){n.pointerType="virtual";return}de(d.currentTarget)&&d.preventDefault(),n.pointerType=d.pointerType;let S=!0;n.isPressed||(n.isPressed=!0,n.isOverTarget=!0,n.activePointerId=d.pointerId,n.target=d.currentTarget,!c&&!u&&z(d.currentTarget),b||we(n.target),S=M(d,n.pointerType),I(R(d.currentTarget),"pointermove",f,!1),I(R(d.currentTarget),"pointerup",y,!1),I(R(d.currentTarget),"pointercancel",s,!1)),S&&d.stopPropagation()},m.onMouseDown=d=>{d.currentTarget.contains(d.target)&&d.button===0&&(de(d.currentTarget)&&d.preventDefault(),d.stopPropagation())},m.onPointerUp=d=>{!d.currentTarget.contains(d.target)||n.pointerType==="virtual"||d.button===0&&V(d,d.currentTarget)&&B(d,n.pointerType||d.pointerType)};let f=d=>{d.pointerId===n.activePointerId&&(n.target&&V(d,n.target)?!n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!0,M(k(n.target,d),n.pointerType)):n.target&&n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!1,L(k(n.target,d),n.pointerType,!1),J(d)))},y=d=>{d.pointerId===n.activePointerId&&n.isPressed&&d.button===0&&n.target&&(V(d,n.target)&&n.pointerType!=null?L(k(n.target,d),n.pointerType):n.isOverTarget&&n.pointerType!=null&&L(k(n.target,d),n.pointerType,!1),n.isPressed=!1,n.isOverTarget=!1,n.activePointerId=null,n.pointerType=null,U(),b||Q(n.target))},s=d=>{H(d)};m.onDragStart=d=>{d.currentTarget.contains(d.target)&&H(d)}}else{m.onMouseDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(de(s.currentTarget)&&s.preventDefault(),n.ignoreEmulatedMouseEvents){s.stopPropagation();return}n.isPressed=!0,n.isOverTarget=!0,n.target=s.currentTarget,n.pointerType=pe(s.nativeEvent)?"virtual":"mouse",!c&&!u&&z(s.currentTarget),M(s,n.pointerType)&&s.stopPropagation(),I(R(s.currentTarget),"mouseup",f,!1)},m.onMouseEnter=s=>{if(!s.currentTarget.contains(s.target))return;let d=!0;n.isPressed&&!n.ignoreEmulatedMouseEvents&&n.pointerType!=null&&(n.isOverTarget=!0,d=M(s,n.pointerType)),d&&s.stopPropagation()},m.onMouseLeave=s=>{if(!s.currentTarget.contains(s.target))return;let d=!0;n.isPressed&&!n.ignoreEmulatedMouseEvents&&n.pointerType!=null&&(n.isOverTarget=!1,d=L(s,n.pointerType,!1),J(s)),d&&s.stopPropagation()},m.onMouseUp=s=>{s.currentTarget.contains(s.target)&&!n.ignoreEmulatedMouseEvents&&s.button===0&&B(s,n.pointerType||"mouse")};let f=s=>{if(s.button===0){if(n.isPressed=!1,U(),n.ignoreEmulatedMouseEvents){n.ignoreEmulatedMouseEvents=!1;return}n.target&&V(s,n.target)&&n.pointerType!=null?L(k(n.target,s),n.pointerType):n.target&&n.isOverTarget&&n.pointerType!=null&&L(k(n.target,s),n.pointerType,!1),n.isOverTarget=!1}};m.onTouchStart=s=>{if(!s.currentTarget.contains(s.target))return;let d=ot(s.nativeEvent);if(!d)return;n.activePointerId=d.identifier,n.ignoreEmulatedMouseEvents=!0,n.isOverTarget=!0,n.isPressed=!0,n.target=s.currentTarget,n.pointerType="touch",!c&&!u&&z(s.currentTarget),b||we(n.target),M(s,n.pointerType)&&s.stopPropagation(),I(ve(s.currentTarget),"scroll",y,!0)},m.onTouchMove=s=>{if(!s.currentTarget.contains(s.target))return;if(!n.isPressed){s.stopPropagation();return}let d=Le(s.nativeEvent,n.activePointerId),S=!0;d&&V(d,s.currentTarget)?!n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!0,S=M(s,n.pointerType)):n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!1,S=L(s,n.pointerType,!1),J(s)),S&&s.stopPropagation()},m.onTouchEnd=s=>{if(!s.currentTarget.contains(s.target))return;if(!n.isPressed){s.stopPropagation();return}let d=Le(s.nativeEvent,n.activePointerId),S=!0;d&&V(d,s.currentTarget)&&n.pointerType!=null?(B(s,n.pointerType),S=L(s,n.pointerType)):n.isOverTarget&&n.pointerType!=null&&(S=L(s,n.pointerType,!1)),S&&s.stopPropagation(),n.isPressed=!1,n.activePointerId=null,n.isOverTarget=!1,n.ignoreEmulatedMouseEvents=!0,n.target&&!b&&Q(n.target),U()},m.onTouchCancel=s=>{s.currentTarget.contains(s.target)&&(s.stopPropagation(),n.isPressed&&H(s))};let y=s=>{n.isPressed&&s.target.contains(n.target)&&H({currentTarget:n.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};m.onDragStart=s=>{s.currentTarget.contains(s.target)&&H(s)}}return m},[I,c,u,U,b,H,J,L,M,B]);return $.useEffect(()=>()=>{var n;b||Q((n=x.current.target)!==null&&n!==void 0?n:void 0)},[b]),{isPressed:l||v,pressProps:X(g,je)}}function Ee(e){return e.tagName==="A"&&e.hasAttribute("href")}function ce(e,t){const{key:r,code:o}=e,i=t,a=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||o==="Space")&&!(i instanceof ve(i).HTMLInputElement&&!Ae(i,r)||i instanceof ve(i).HTMLTextAreaElement||i.isContentEditable)&&!((a==="link"||!a&&Ee(i))&&r!=="Enter")}function ot(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Le(e,t){const r=e.changedTouches;for(let o=0;o<r.length;o++){const i=r[o];if(i.identifier===t)return i}return null}function k(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function it(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function at(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function V(e,t){let r=t.getBoundingClientRect(),o=it(e);return at(r,o)}function de(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Fe(e,t){return e instanceof HTMLInputElement?!Ae(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Ee(e)}const st=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ae(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":st.has(e.type)}function Ot({children:e}){let t=$.useMemo(()=>({register:()=>{}}),[]);return _.createElement(he.Provider,{value:t},e)}class ut{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function We(e){let t=$.useRef({isFocused:!1,observer:null});N(()=>{const o=t.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let r=K(o=>{e==null||e(o)});return $.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=o.target,a=c=>{t.current.isFocused=!1,i.disabled&&r(new ut("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let l=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function Ue(e){let{isDisabled:t,onFocus:r,onBlur:o,onFocusChange:i}=e;const a=$.useCallback(u=>{if(u.target===u.currentTarget)return o&&o(u),i&&i(!1),!0},[o,i]),c=We(a),l=$.useCallback(u=>{u.target===u.currentTarget&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),c(u))},[i,r,c]);return{focusProps:{onFocus:!t&&(r||i||o)?l:void 0,onBlur:!t&&(o||i)?a:void 0}}}let D=null,q=new Set,Ne=!1,W=!1,ge=!1;const lt={Tab:!0,Escape:!0};function ue(e,t){for(let r of q)r(e,t)}function ct(e){return!(e.metaKey||!Ie()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Me(e){W=!0,ct(e)&&(D="keyboard",ue("keyboard",e))}function G(e){D="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(W=!0,ue("pointer",e))}function dt(e){pe(e)&&(W=!0,D="virtual")}function ft(e){e.target===window||e.target===document||(!W&&!ge&&(D="virtual",ue("virtual",e)),W=!1,ge=!1)}function pt(){W=!1,ge=!0}function ne(){if(typeof window>"u"||Ne)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){W=!0,e.apply(this,arguments)},document.addEventListener("keydown",Me,!0),document.addEventListener("keyup",Me,!0),document.addEventListener("click",dt,!0),window.addEventListener("focus",ft,!0),window.addEventListener("blur",pt,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",G,!0),document.addEventListener("pointermove",G,!0),document.addEventListener("pointerup",G,!0)):(document.addEventListener("mousedown",G,!0),document.addEventListener("mousemove",G,!0),document.addEventListener("mouseup",G,!0)),Ne=!0}typeof document<"u"&&(document.readyState!=="loading"?ne():document.addEventListener("DOMContentLoaded",ne));function Be(){return D!=="pointer"}function vt(){return D}function _t(e){D=e,ue(e,null)}function It(){ne();let[e,t]=$.useState(D);return $.useEffect(()=>{let r=()=>{t(D)};return q.add(r),()=>{q.delete(r)}},[]),Xe()?null:e}const bt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function gt(e,t,r){var o;return e=e||(r==null?void 0:r.target)instanceof HTMLInputElement&&!bt.has(r==null||(o=r.target)===null||o===void 0?void 0:o.type)||(r==null?void 0:r.target)instanceof HTMLTextAreaElement||(r==null?void 0:r.target)instanceof HTMLElement&&(r==null?void 0:r.target.isContentEditable),!(e&&t==="keyboard"&&r instanceof KeyboardEvent&&!lt[r.key])}function $t(e,t,r){ne(),$.useEffect(()=>{let o=(i,a)=>{gt(!!(r!=null&&r.isTextInput),i,a)&&e(Be())};return q.add(o),()=>{q.delete(o)}},t)}function mt(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:o,onFocusWithinChange:i}=e,a=$.useRef({isFocusWithin:!1}),c=$.useCallback(p=>{a.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(a.current.isFocusWithin=!1,r&&r(p),i&&i(!1))},[r,i,a]),l=We(c),u=$.useCallback(p=>{!a.current.isFocusWithin&&document.activeElement===p.target&&(o&&o(p),i&&i(!0),a.current.isFocusWithin=!0,l(p))},[o,i,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}let oe=!1,fe=0;function $e(){oe=!0,setTimeout(()=>{oe=!1},50)}function ke(e){e.pointerType==="touch"&&$e()}function ht(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ke):document.addEventListener("touchend",$e),fe++,()=>{fe--,!(fe>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ke):document.removeEventListener("touchend",$e))}}function Ht(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:o,isDisabled:i}=e,[a,c]=$.useState(!1),l=$.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;$.useEffect(ht,[]);let{hoverProps:u,triggerHoverEnd:p}=$.useMemo(()=>{let b=(v,T)=>{if(l.pointerType=T,i||T==="touch"||l.isHovered||!v.currentTarget.contains(v.target))return;l.isHovered=!0;let x=v.currentTarget;l.target=x,t&&t({type:"hoverstart",target:x,pointerType:T}),r&&r(!0),c(!0)},h=(v,T)=>{if(l.pointerType="",l.target=null,T==="touch"||!l.isHovered)return;l.isHovered=!1;let x=v.currentTarget;o&&o({type:"hoverend",target:x,pointerType:T}),r&&r(!1),c(!1)},g={};return typeof PointerEvent<"u"?(g.onPointerEnter=v=>{oe&&v.pointerType==="mouse"||b(v,v.pointerType)},g.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&h(v,v.pointerType)}):(g.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},g.onMouseEnter=v=>{!l.ignoreEmulatedMouseEvents&&!oe&&b(v,"mouse"),l.ignoreEmulatedMouseEvents=!1},g.onMouseLeave=v=>{!i&&v.currentTarget.contains(v.target)&&h(v,"mouse")}),{hoverProps:g,triggerHoverEnd:h}},[t,r,o,i,l]);return $.useEffect(()=>{i&&p({currentTarget:l.target},l.pointerType)},[i]),{hoverProps:u,isHovered:a}}function At(e){let{ref:t,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:i}=e,a=$.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=K(u=>{r&&te(u,t)&&(i&&i(u),a.current.isPointerDown=!0)}),l=K(u=>{r&&r(u)});$.useEffect(()=>{let u=a.current;if(o)return;const p=t.current,b=R(p);if(typeof PointerEvent<"u"){let h=g=>{u.isPointerDown&&te(g,t)&&l(g),u.isPointerDown=!1};return b.addEventListener("pointerdown",c,!0),b.addEventListener("pointerup",h,!0),()=>{b.removeEventListener("pointerdown",c,!0),b.removeEventListener("pointerup",h,!0)}}else{let h=v=>{u.ignoreEmulatedMouseEvents?u.ignoreEmulatedMouseEvents=!1:u.isPointerDown&&te(v,t)&&l(v),u.isPointerDown=!1},g=v=>{u.ignoreEmulatedMouseEvents=!0,u.isPointerDown&&te(v,t)&&l(v),u.isPointerDown=!1};return b.addEventListener("mousedown",c,!0),b.addEventListener("mouseup",h,!0),b.addEventListener("touchstart",c,!0),b.addEventListener("touchend",g,!0),()=>{b.removeEventListener("mousedown",c,!0),b.removeEventListener("mouseup",h,!0),b.removeEventListener("touchstart",c,!0),b.removeEventListener("touchend",g,!0)}}},[t,o,c,l])}function te(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function Ce(e){if(!e)return;let t=!0;return r=>{let o={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(o),t&&r.stopPropagation()}}function Et(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Ce(e.onKeyDown),onKeyUp:Ce(e.onKeyUp)}}}const Tt=500;function Wt(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:o,onLongPress:i,threshold:a=Tt,accessibilityDescription:c}=e;const l=$.useRef();let{addGlobalListener:u,removeGlobalListener:p}=Ke(),{pressProps:b}=nt({isDisabled:t,onPressStart(g){if(g.continuePropagation(),(g.pointerType==="mouse"||g.pointerType==="touch")&&(r&&r({...g,type:"longpressstart"}),l.current=setTimeout(()=>{g.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...g,type:"longpress"}),l.current=void 0},a),g.pointerType==="touch")){let v=T=>{T.preventDefault()};u(g.target,"contextmenu",v,{once:!0}),u(window,"pointerup",()=>{setTimeout(()=>{p(g.target,"contextmenu",v)},30)},{once:!0})}},onPressEnd(g){l.current&&clearTimeout(l.current),o&&(g.pointerType==="mouse"||g.pointerType==="touch")&&o({...g,type:"longpressend"})}}),h=qe(i&&!t?c:void 0);return{longPressProps:X(b,h)}}function Ve(e){if(vt()==="virtual"){let t=document.activeElement;Oe(()=>{document.activeElement===t&&document.contains(e)&&z(e)})}else z(e)}function yt(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;let{display:t,visibility:r}=e.style,o=t!=="none"&&r!=="hidden"&&r!=="collapse";if(o){const{getComputedStyle:i}=e.ownerDocument.defaultView;let{display:a,visibility:c}=i(e);o=a!=="none"&&c!=="hidden"&&c!=="collapse"}return o}function Pt(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function Ge(e,t){return e.nodeName!=="#comment"&&yt(e)&&Pt(e,t)&&(!e.parentElement||Ge(e.parentElement,e))}const De=_.createContext(null);let E=null;function Ut(e){let{children:t,contain:r,restoreFocus:o,autoFocus:i}=e,a=$.useRef(null),c=$.useRef(null),l=$.useRef([]),{parentNode:u}=$.useContext(De)||{},p=$.useMemo(()=>new me({scopeRef:l}),[l]);N(()=>{let g=u||P.root;if(P.getTreeNode(g.scopeRef)&&E&&!ae(E,g.scopeRef)){let v=P.getTreeNode(E);v&&(g=v)}g.addChild(p),P.addNode(p)},[p,u]),N(()=>{let g=P.getTreeNode(l);g&&(g.contain=!!r)},[r]),N(()=>{var g;let v=(g=a.current)===null||g===void 0?void 0:g.nextSibling,T=[];for(;v&&v!==c.current;)T.push(v),v=v.nextSibling;l.current=T},[t]),Nt(l,o,r),Lt(l,r),kt(l,o,r),Ft(l,i),$.useEffect(()=>{let g=document.activeElement,v=null;if(w(g,l.current)){for(let T of P.traverse())T.scopeRef&&w(g,T.scopeRef.current)&&(v=T);v===P.getTreeNode(l)&&(E=v.scopeRef)}},[l]),N(()=>()=>{var g,v,T;let x=(T=(v=P.getTreeNode(l))===null||v===void 0||(g=v.parent)===null||g===void 0?void 0:g.scopeRef)!==null&&T!==void 0?T:null;(l===E||ae(l,E))&&(!x||P.getTreeNode(x))&&(E=x),P.removeTreeNode(l)},[l]);let b=$.useMemo(()=>St(l),[]),h=$.useMemo(()=>({focusManager:b,parentNode:p}),[p,b]);return _.createElement(De.Provider,{value:h},_.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),t,_.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:c}))}function St(e){return{focusNext(t={}){let r=e.current,{from:o,tabbable:i,wrap:a,accept:c}=t,l=o||document.activeElement,u=r[0].previousElementSibling,p=A(r),b=O(p,{tabbable:i,accept:c},r);b.currentNode=w(l,r)?l:u;let h=b.nextNode();return!h&&a&&(b.currentNode=u,h=b.nextNode()),h&&C(h,!0),h},focusPrevious(t={}){let r=e.current,{from:o,tabbable:i,wrap:a,accept:c}=t,l=o||document.activeElement,u=r[r.length-1].nextElementSibling,p=A(r),b=O(p,{tabbable:i,accept:c},r);b.currentNode=w(l,r)?l:u;let h=b.previousNode();return!h&&a&&(b.currentNode=u,h=b.previousNode()),h&&C(h,!0),h},focusFirst(t={}){let r=e.current,{tabbable:o,accept:i}=t,a=A(r),c=O(a,{tabbable:o,accept:i},r);c.currentNode=r[0].previousElementSibling;let l=c.nextNode();return l&&C(l,!0),l},focusLast(t={}){let r=e.current,{tabbable:o,accept:i}=t,a=A(r),c=O(a,{tabbable:o,accept:i},r);c.currentNode=r[r.length-1].nextElementSibling;let l=c.previousNode();return l&&C(l,!0),l}}}const Te=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],wt=Te.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Te.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const xt=Te.join(':not([hidden]):not([tabindex="-1"]),');function A(e){return e[0].parentElement}function Y(e){let t=P.getTreeNode(E);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Lt(e,t){let r=$.useRef(),o=$.useRef();N(()=>{let i=e.current;if(!t){o.current&&(cancelAnimationFrame(o.current),o.current=void 0);return}let a=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!Y(e))return;let p=document.activeElement,b=e.current;if(!b||!w(p,b))return;let h=A(b),g=O(h,{tabbable:!0},b);if(!p)return;g.currentNode=p;let v=u.shiftKey?g.previousNode():g.nextNode();v||(g.currentNode=u.shiftKey?b[b.length-1].nextElementSibling:b[0].previousElementSibling,v=u.shiftKey?g.previousNode():g.nextNode()),u.preventDefault(),v&&C(v,!0)},c=u=>{(!E||ae(E,e))&&w(u.target,e.current)?(E=e,r.current=u.target):Y(e)&&!ie(u.target,e)?r.current?r.current.focus():E&&E.current&&se(E.current):Y(e)&&(r.current=u.target)},l=u=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(document.activeElement&&Y(e)&&!ie(document.activeElement,e))if(E=e,document.body.contains(u.target)){var p;r.current=u.target,(p=r.current)===null||p===void 0||p.focus()}else E.current&&se(E.current)})};return document.addEventListener("keydown",a,!1),document.addEventListener("focusin",c,!1),i==null||i.forEach(u=>u.addEventListener("focusin",c,!1)),i==null||i.forEach(u=>u.addEventListener("focusout",l,!1)),()=>{document.removeEventListener("keydown",a,!1),document.removeEventListener("focusin",c,!1),i==null||i.forEach(u=>u.removeEventListener("focusin",c,!1)),i==null||i.forEach(u=>u.removeEventListener("focusout",l,!1))}},[e,t]),N(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[o])}function ze(e){return ie(e)}function w(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function ie(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of P.traverse(P.getTreeNode(t)))if(r&&w(e,r.current))return!0;return!1}function Bt(e){return ie(e,E)}function ae(e,t){var r;let o=(r=P.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;o;){if(o.scopeRef===e)return!0;o=o.parent}return!1}function C(e,t=!1){if(e!=null&&!t)try{Ve(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function se(e,t=!0){let r=e[0].previousElementSibling,o=A(e),i=O(o,{tabbable:t},e);i.currentNode=r;let a=i.nextNode();t&&!a&&(o=A(e),i=O(o,{tabbable:!1},e),i.currentNode=r,a=i.nextNode()),C(a)}function Ft(e,t){const r=_.useRef(t);$.useEffect(()=>{r.current&&(E=e,!w(document.activeElement,E.current)&&e.current&&se(e.current)),r.current=!1},[e])}function Nt(e,t,r){N(()=>{if(t||r)return;let o=e.current,i=a=>{let c=a.target;w(c,e.current)?E=e:ze(c)||(E=null)};return document.addEventListener("focusin",i,!1),o==null||o.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{document.removeEventListener("focusin",i,!1),o==null||o.forEach(a=>a.removeEventListener("focusin",i,!1))}},[e,t,r])}function Mt(e){let t=P.getTreeNode(E);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function kt(e,t,r){const o=$.useRef(typeof document<"u"?document.activeElement:null);N(()=>{let i=e.current;if(!t||r)return;let a=()=>{(!E||ae(E,e))&&w(document.activeElement,e.current)&&(E=e)};return document.addEventListener("focusin",a,!1),i==null||i.forEach(c=>c.addEventListener("focusin",a,!1)),()=>{document.removeEventListener("focusin",a,!1),i==null||i.forEach(c=>c.removeEventListener("focusin",a,!1))}},[e,r]),N(()=>{if(!t)return;let i=a=>{if(a.key!=="Tab"||a.altKey||a.ctrlKey||a.metaKey||!Y(e))return;let c=document.activeElement;if(!w(c,e.current))return;let l=P.getTreeNode(e);if(!l)return;let u=l.nodeToRestore,p=O(document.body,{tabbable:!0});p.currentNode=c;let b=a.shiftKey?p.previousNode():p.nextNode();if((!u||!document.body.contains(u)||u===document.body)&&(u=void 0,l.nodeToRestore=void 0),(!b||!w(b,e.current))&&u){p.currentNode=u;do b=a.shiftKey?p.previousNode():p.nextNode();while(w(b,e.current));a.preventDefault(),a.stopPropagation(),b?C(b,!0):ze(u)?C(u,!0):c.blur()}};return r||document.addEventListener("keydown",i,!0),()=>{r||document.removeEventListener("keydown",i,!0)}},[e,t,r]),N(()=>{if(!t)return;let i=P.getTreeNode(e);if(i){var a;return i.nodeToRestore=(a=o.current)!==null&&a!==void 0?a:void 0,()=>{let c=P.getTreeNode(e);if(!c)return;let l=c.nodeToRestore;if(t&&l&&(w(document.activeElement,e.current)||document.activeElement===document.body&&Mt(e))){let u=P.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let p=u.getTreeNode(e);for(;p;){if(p.nodeToRestore&&document.body.contains(p.nodeToRestore)){C(p.nodeToRestore);return}p=p.parent}for(p=u.getTreeNode(e);p;){if(p.scopeRef&&p.scopeRef.current&&P.getTreeNode(p.scopeRef)){se(p.scopeRef.current,!0);return}p=p.parent}}})}}}},[e,t])}function O(e,t,r){let o=t!=null&&t.tabbable?xt:wt,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(a)?NodeFilter.FILTER_REJECT:a.matches(o)&&Ge(a)&&(!r||w(a,r))&&(!(t!=null&&t.accept)||t.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}class ye{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,o){let i=this.fastMap.get(r??null);if(!i)return;let a=new me({scopeRef:t});i.addChild(a),a.parent=i,this.fastMap.set(t,a),o&&(a.nodeToRestore=o)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let o=r.parent;for(let a of this.traverse())a!==r&&r.nodeToRestore&&a.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&w(a.nodeToRestore,r.scopeRef.current)&&(a.nodeToRestore=r.nodeToRestore);let i=r.children;o&&(o.removeChild(r),i.size>0&&i.forEach(a=>o&&o.addChild(a))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new ye;var o;for(let i of this.traverse())r.addTreeNode(i.scopeRef,(o=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&o!==void 0?o:null,i.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new me({scopeRef:null}),this.fastMap.set(null,this.root)}}class me{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let P=new ye;function Vt(e={}){let{autoFocus:t=!1,isTextInput:r,within:o}=e,i=$.useRef({isFocused:!1,isFocusVisible:t||Be()}),[a,c]=$.useState(!1),[l,u]=$.useState(()=>i.current.isFocused&&i.current.isFocusVisible),p=$.useCallback(()=>u(i.current.isFocused&&i.current.isFocusVisible),[]),b=$.useCallback(v=>{i.current.isFocused=v,c(v),p()},[p]);$t(v=>{i.current.isFocusVisible=v,p()},[],{isTextInput:r});let{focusProps:h}=Ue({isDisabled:o,onFocusChange:b}),{focusWithinProps:g}=mt({isDisabled:!o,onFocusWithinChange:b});return{isFocused:a,isFocusVisible:l,focusProps:o?g:h}}let Ct=_.createContext(null);function Dt(e){let t=$.useContext(Ct)||{};_e(t,e);let{ref:r,...o}=t;return o}function Gt(e,t){let{focusProps:r}=Ue(e),{keyboardProps:o}=Et(e),i=X(r,o),a=Dt(t),c=e.isDisabled?{}:a,l=$.useRef(e.autoFocus);return $.useEffect(()=>{l.current&&t.current&&Ve(t.current),l.current=!1},[t]),{focusableProps:X({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}var zt=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],jt=["outline-none","group-data-[focus-visible=true]:z-10","group-data-[focus-visible=true]:ring-2","group-data-[focus-visible=true]:ring-focus","group-data-[focus-visible=true]:ring-offset-2","group-data-[focus-visible=true]:ring-offset-background"],Yt={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]};export{Gt as $,Vt as a,Ht as b,mt as c,zt as d,nt as e,_t as f,jt as g,O as h,Yt as i,Ve as j,Wt as k,vt as l,It as m,Be as n,Ot as o,At as p,Bt as q,Ut as r};
